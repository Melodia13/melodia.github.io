sequenceDiagram
    participant M as ğŸ“± Mobile App
    participant G as ğŸŒ Gateway
    participant U as ğŸ‘¤ User API
    participant C as ğŸ“š Catalog API
    participant A as ğŸ¤ Artist API
    participant AN as ğŸ“Š Analytics API
    
    Note over M,AN: Flujo de AutenticaciÃ³n
    M->>G: 1. POST /auth/login
    G->>U: Forward Request
    U-->>G: JWT Token + User Data
    G-->>M: 200 OK + Token
    
    Note over M,AN: Flujo de BÃºsqueda de MÃºsica
    M->>G: 2. GET /catalog/search?q=rock
    G->>C: Forward + Bearer Token
    C->>U: Validate Token
    U-->>C: Token Valid
    C-->>G: Search Results
    G-->>M: 200 OK + Results
    
    Note over M,AN: Flujo de ReproducciÃ³n
    M->>G: 3. GET /catalog/songs/{id}/stream
    G->>C: Stream Request
    C-->>G: Audio Stream
    G-->>M: Audio Data
    
    M->>G: 4. POST /analytics/events/play
    G->>AN: Record Play Event
    AN->>C: Increment Play Count
    C-->>AN: Updated
    AN-->>G: Event Recorded
    G-->>M: 201 Created